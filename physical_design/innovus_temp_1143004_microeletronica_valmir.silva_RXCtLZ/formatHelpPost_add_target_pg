.nf
.P Product Version     22.14    Cadence Design Systems, Inc. 
.fi
.TH add_target_pg  22.14 "Fri Oct 06 02:12:27 2023" 
.SH Name \fBadd_target_pg\fR \-  Creates a PG path for a certain cell or instance
.SH Syntax  \fBadd_target_pg\fR  [-help]  [-area {<x1 y1 x2 y2>}{<x1 y1 x2 y2 x3 y3 x4 y4>
...}]  [-force]   [-instance {<list_of_instances>}]   -nets {<list_of_nets>}   -pin_layer <layer>   [-stack_layer_config {<stack_layer_pattern>}]   [-stack_layer_config_file <filename>]   -target_layer {<layer1 layer2>}  [-uda <subclass_string>]
.P Creates a PG path for a certain cell or instance. There are several cases where the IR drop hotspots occur only on certain cells, like high driving strength clock buffer cell, and there are some cells wherein secondary PG pins need to be connected with power mesh. So, instead of increasing the density of regular PG mesh, the add_target_pg command allocates a dedicated PG path from the top layer low resistance PG stripe to these cells and solves most of the IR-drop hotspot issues. As a result, more resources can be preserved for routing.
.P Parameters   "\fB-help\fR" Outputs a brief description that includes the type and default information for each add_target_pg parameter.  For a detailed description of the command and all its parameters, use the man command:   man add_target_pg  "\fB-area {<x1 y1 x2 y2>}{<x1 y1 x2 y2 x3 y3 x4 y4>
...}\fR" Signifies that an instance inside the specified area can be connected.   "\fB-force\fR" Keeps the added PG even when the connection has a DRC, and adds a DRC marker. When this parameter is not set, the newly added PG will remain DRC clean. In such a case, if the PG pin cannot connect to the target layer with DRC clean, the added PG is deleted and leaves the pin open.   "\fB-instance {<list_of_instances>}\fR" Specifies the instances to be connected. Note that only those instances are connected, which belong to the cell defined by the set_add_target_pg_mode -pins parameter.  "\fB-nets {<list_of_nets>}\fR" Specifies the power/ground nets to be connected.    "\fB-pin_layer <layer>\fR" Specifies the layer name of the cell pin to be connected.   "\fB-stack_layer_config {<stack_layer_pattern>}\fR" Defines the pattern of the stripes on intermediate layers between the pin layer and target layer. The value of this parameter is in the {layer1:n1:s1:w1:p1 layer2:n2:s2:w2:p2
...} format. Here:
.RS  "*" 2 layer1, layer2,
...  specify the layer names.  "*" 2 n1, n2,
...  specify the stapling count in a set.  "*" 2 w1, w2,
...  specify the stapling width.  "*" 2 s1, s2,
...  specify the spacing inside a stapling set.  "*" 2 p1, p2,
...  specify the pitch (set-to-set distance) between the stapling sets.
.RE   Following is an example of the -stack_layer_config parameter value:  -stack_layer_config {M3:2:0.12:0.04:0.36 M4:1:0.08:0.08:0.9}  "\fB-stack_layer_config_file <filename>\fR" Specifies the stack layer configuration file defining the pattern of the stripes on intermediate layer between the pin and target layers. Stack layer denotes the intermediate layer(s) between the cell pin and target stripe. Following is the syntax of the stack layer configuration file:  STACKLAYER COUNT SPACING WIDTH PITCH 
...  <Mx> <nx> <spacingx> <widthx> <pitchx> 
...  END STACKLAYER  Here:
.RS  "*" 2 STACKLAYER: Specifies the LEF name of the layer.  "*" 2 COUNT: Specifies the number of stripes on the layer. The default COUNT value is 1.  "*" 2 WIDTH: Specifies the stripe width in microns. The default WIDTH value is the minimum width in LEF.  "*" 2 SPACING: Specifies the stripe spacing in microns. The default SPACING value is the minimum spacing in LEF.  "*" 2 PITCH: Specifies the set-to-set distance in a stripe. It indicates the range that one stripe set can cover. The default PITCH value is MAX, which means one set.
.RE   COUNT, WIDTH, or SPACING can be omitted in the configuration file by specifying a hyphen (-). For example, 2 stripes on M4 with minimum width and spacing can be described as:  M4 2 - -  If the entire line of a layer is omitted, it means that the layer will have one stripe with minimum width and spacing.  Following is an example of a pattern defined in the stack layer configuration file:  (<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.)   The generation of each layer stapling depends only on its lower and upper stapling. The added PG can be shifted to find a DRC clean location. If a DRC clean location is not found, the added PG of this pin is removed and kept open. The length of the Mx layer depends on location of the Mx-1 and Mx+1 layers, as shown in the figure below. The number of wires created on the Mx-1 and Mx+1 layers needs to fulfill the defined count number criteria.  (<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.)   Note: This parameter is exclusive to the -stack_layer_config parameter.  "\fB-target_layer {<layer1 layer2>}\fR" Defines one or two destination power/ground stripes by specifying the target layer names. In case two target layers are specified, those should be adjacent. In such a case, the software connects to the closet wires of these two adjacent target layers with DRC clean. The directions of these two target layers are orthogonal. The configuration file is created based on the higher of these two layers. The lower target layer uses its own configuration file and the configuration files of the layers between the cell pin.  For example, the stack.cfg configuration file for a stack is created based on the target layer M9. Its target layer M8 uses the configuration files of the layers from M3 to M7, as shown below:  add_target_pg -nets {VDD2} -target_layer {M9 M8} -pin_layer M2 -stack_layer_config stack.cfg  Following are the contents of the stack.cfg configuration file:  STACKLAYER   COUNT  SPACING  WIDTH  PITCH  M3           2      0.12     0.04   0.36  M4           2      0.12     0.04   0.9  M5           -      -        0.04   0.36  M6           2      0.12     0.04   0.9  M7           2      0.2      0.2    1.2  M8           -      0.2      0.2    1.2  END_STACK_LAYER_CONFIG  Following is the output of the above command:  (<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.)   As shown in the above output, since the first layer is not DRC clean, the software searches for the second closest target stripe to connect.  "\fB-uda <subclass_string>\fR" Indicates the name string of the user-defined attribute subcalss of wires to route. 
.SH Examples
.RS  "*" 2 The following command connects different cells and pins specifying the -target_layer as M8 and -pin_layer as M1:  set_add_target_pg_mode -pins {cell1:VDD cell1:VSS cell2:VDD cell2:VSS} -share_resource false  add_target_pg -nets {VDD VSS} -target_layer M8 -pin_layer M1 -stack_layer_config_file  target_pg.config  Following are the target_pg.config file contents:  STACKLAYER COUNT  SPACING  WIDTH  M2           2            0.06              0.04  M3           2            0.12              -   M4           2            0.12              0.04  M5           -         -                  0.04  M6           2            0.12               0.04  M7           2             0.2               0.2       END STACKLAYER  Following is the output of this example:(<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.)  "*" 2 The following set of commands connect different cells and pins specifying the -target_layer as M8 and -pin_layer as M2:  set_add_target_pg_mode -pins {cell:VDD} -share_resource true  add_target_pg -nets {VDD} -target_layer M8 -pin_layer M2 -stack_layer_config_file  target_pg.config  Following are the target_pg.config file contents:  STACKLAYER   COUNT  SPACING  WIDTH  PITCH  M3           3             0.12          -            -  M4           2             0.12          0.04         0.5  M5           2             0.12          0.04         -  M6           2             -             0.08         0.5  M7           2             0.2           0.2          -  END STACKLAYER  Following is the output of this example:(<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.) 
.RE 
.SH Related Information
.RS  "*" 2 get_add_target_pg_mode  "*" 2 set_add_target_pg_mode
.RE
.P
