.nf
.P Product Version     22.14    Cadence Design Systems, Inc. 
.fi
.TH check_pg_library  22.14 "Fri Oct 06 02:12:27 2023" 
.SH Name \fBcheck_pg_library\fR \-  Specifies to perform a comprehensive check of power-grid views (PGV) to be used in rail analysis
.SH Syntax  \fBcheck_pg_library\fR   [-help]  <power_library_paths>  [-cell_list_file<file>]  [-check_compatibility {<PGV1 PGV2
...>} | -lef_consistency]  [-check_parameters]  [-integrity_check]  [-output <file>]  [-list]  [-report]  [-rule_file <file>]  [-skip_signal_net_check {true | false}]  [-skip_layer_list_file <filename>]  [-summary]  [-tech_layers]  [-total_currents]  [-report_detail_multiple_voltage_cap]  [-command_dump]  [-metal_density_map] 
.P Specifies to perform a comprehensive check of power-grid views (PGV) to be used in rail analysis. These checks include:
.RS  "*" 2 Verify that all the PGV views exist: Early/IR/EM  "*" 2 Report the dynamic PWL and static current  "*" 2 Perform a compatibility check on version, layermap and resistivity parameters  "*" 2 Check any missing information, such as temperature, qrcTechFile location, and so on.
.RE 
.SH Parameters    "\fB-help\fR" Outputs the command usage.   "\fB<power_library_path>\fR" Default: None  (Mandatory) Specifies the absolute path to the power library (.cl) file. You can run multiple power library files (.cl) at the same time.  "\fB-cell_list_file<file>\fR" Default: None  Specifies a file containing the list of cells for which the LEF consistency checks will be done. This parameter allows you to perform the consistency checks only for the user-defined cells.  The format of the input file is:  CELL1   CELL2   CELL3  "\fB-check_compatibility {<PGV1 PGV2
...}>\fR" Default: None  Checks for compatibility between the specified cell libraries. It checks whether the following parameters are the same for the libraries that are to be merged:
.RS  "*" 2 Time Units
.RE
.RS  "*" 2 Capacitance Units
.RE
.RS  "*" 2 Layout Scale Factor
.RE
.RS  "*" 2 Manufacturing Grid
.RE   If one or more of these parameters are not the same, a warning message appears stating that the libraries are not compatible and cannot be merged. It also specifies the parameters that are different.  Based on the above electrical/physical parameter check, a compatibility report (compatibility.report) with pass/fail is generated. Fail implies that the library is not compatible and cannot be used in Voltus rail analysis.  "\fB-check_parameters\fR" Default: None  Checks for the following electrical parameters of the specified cell libraries:
.RS  "*" 2 CINT_MIN and CINT_MAX: Intrinsic device capacitance   "*" 2 CG_MIN and CG_MAX: Grid capacitance   "*" 2 RON_MIN and RON_MAX: On-resistance for powergates   "*" 2 IDSAT_MIN and IDSAT_MAX: Saturation current for powergates   "*" 2 ILEAK_MIN and ILEAK_MAX: Leakage current for powergates   "*" 2 IAVG_MIN and IAVG_MAX: Static current   "*" 2 IPEAK_MIN and IPEAK_MAX: Dynamic peak current  "*" 2 ESR_MIN and ESR_MAX: Equivalent series resistance
.RE   For powergates, -check_parameters will check the Vds-Ids table for the correct trend. It checks whether:
.RS  "*" 2 for a given Vgs, Ids increases with Vds  "*" 2 for a given Vds, Ids increases with Vgs
.RE   where;  Vgs is voltage across gate and source  Vds is voltage across drain and source  Ids is current from drain to source (of a transistor)  "\fB-command_dump\fR" Default: None  Specifies to print the settings used during PGV characterization to a text file called command_list.txt.  This parameter allows you to determine the user-specified or default settings used during PGV generation for the specified power library (.cl).  "\fB-integrity_check\fR" Specifies to load all the views from a power-grid library to ensure that the library contains the required data. This parameter checks if there are any missing files or views, and that the PGV is usable in rail analysis.   "\fB-lef_consistency\fR" Default: None  Checks for LEF consistency of the cells in the specified cell libraries.  It reads the LEF and PGV files, and compares the given LEF file with the LEF file used in PGV generation.  "\fB-list\fR" Default: None  Specifies to list the PGVs and the cells in each PGV. The parameter allows you to determine the name of the PGV library that contains a specific cell and determine whether a cell is there in multiple libraries.   The format of the output file is:  PGV Library: <Number of PGV libraries>  <Lib_1> <TOOL VERSION> <PGV VERSION> <GENERATE_DATE> <Path>  <Lib_2> <TOOL VERSION> <PGV VERSION> <GENERATE_DATE> <Path> 
...   Duplicated Cells: <Number of cells in multiple libraries>  <CELLNAME> <Lib_1 Lib_2 Lib_3>  Cell List: <Number of cells in a library>  <CELLNAME> <LIB#>  "\fB-metal_density_map\fR" Default: None  Generates the metal density map report file (<<pgvname>>.metal_density) in the PGV output directory. This file contains information about the macro size, number of tiles in the x and y direction, metal layer ID, layer name, and metal density values for each tile.  Usage Guidelines:   This parameter is used with the -calculate_metal_layer_density parameter of the set_pg_library_mode command.  "\fB-output <dir_name>\fR" Default: The default is the current working directory.  Specifies the name of the output directory in which the power-grid library report is created.  "\fB-report\fR" Default: None  Specifies to generate the power-grid library report. The report name is <<pgvname>>.report.  "\fB-report_detail_multiple_voltage_cap\fR" Default: None  Specifies to generate a voltage-dependent capacitance table that contains the detailed capacitance values of the given power-grid library. The capacitance table file is called <<pgvname>>.cap_table.  Usage Guidelines:   This parameter is used with the -enable_multi_voltage_cap_generation parameter of the set_pg_library_mode command.  "\fB-rule_file <file>\fR" Default: None  Specifies the rule file name used for parameter checking. This file contains the list of electrical parameters to be checked.  File Format:  CINT_MIN <<min cap value>>  CINT_MAX <<max cap value>>  RON_MIN <<value>>  RON_MAX <<value>>  IDSAT_MIN <<value>>  IDSAT_MAX <<value>>  ILEAK_MIN <<value>>  ILEAK_MAX <<value>>  IPEAK_MIN <<value>>  IPEAK_MAX <<value>>  IAVG_MIN <<value>>  IAVG_MAX <<value>>  ESR_MIN <<value>>  ESR_MAX <<value>>  Usage Guidelines:    This parameter must be specified with the -check_parameters parameter.  "\fB-skip_layer_list_file <filename>\fR" Default: None  Specifies the name of a file containing a list of layers to ignore while checking PGV and LEF compatibility. Its format is one layer per line.  Usage Guidelines:    This parameter must be specified with the -check_compatibility parameter.  "\fB-skip_signal_net_check {true | false}\fR" Default: false  Specifies to skip LEF consistency checks for signal nets. This forces skipping of the signal pin checks when performing a comprehensive check of power-grid views to be used in rail analysis. The -skip_signal_net_check parameter can be used if you want to check LEF consistency of only the power and ground pins.  "\fB-summary\fR" Default: None  Specifies to generate a detailed report of the library contents for the specified cells that can be used for debugging purpose.  "\fB-tech_layers\fR" Default: None  Specifies to report technology layer information and layer mapping.  "\fB-total_currents\fR" Default: None  Specifies to report the static current for each power/ground net, and dynamic PWL for each mode. For each mode, it reports the peak and average current, and the number of points for power supply nets.  When specified, the total current is reported in <<lib_name>>.total_current for each library.
.P 
.SH Examples
.RS  "*" 2 The following command creates a report for the library std_cells.cl:   check_pg_library std_cells_fast/std_cells_fast.cl -report  "*" 2 The following command checks for LEF consistency:  read_lib -lef ddk.0.lef  read_lib -lef ddk.1.lef  check_pg_library -lef_consistency \\  "/../library1.cl\\  /../library2.cl"  "*" 2 The following command displays the list of layers (defined in the technology file) on stdout:  check_pg_library -tech_layers
./check_param/powergate/stdcells.cl  "*" 2 The following command checks for compatibility between the specified cell libraries and generates a compatibility report (compatibility.report) in the output directory:  check_pg_library -output out -check_compatibility  {/../lib1.cl /../lib2.cl}  "*" 2 The following command specifies to list the cells corresponding to the specified libraries, pgv1.cl and pgv2.cl:  check_pg_library -list {/../pgv1.cl  /../pgv2.cl}  "*" 2  The following command checks for electrical parameters of the stdcells.cl library:  check_pg_library -output OUT -check_parameters
./stdcells.cl  The following is a sample output of this command:             PARAM        VALUE            RANGE         PASS/FAIL  Cell: Cell1     Net VDDG          Device Cap    4.50e-14    (1.00e-18,1.00e-11)    PASS     Net VSS          Device Cap    2.61e-14    (1.00e-18,1.00e-11)    PASS     Net VDD          Device Cap    2.13e-14    (1.00e-18,1.00e-11)    PASS     Power Gate SLEEP               Ron      1.84e+01    (2.00e+01,1.00e+03)    FAIL               Ileak    7.01e-08    (1.00e-15,1.00e-06)    PASS               Idsat    3.36e-02    (1.00e-09,1.00e-02)    FAIL     Trend Checks:         Ron Trend   : PASS         Idsat Trend  : PASS         Ileak Trend : PASS  "*" 2 The following command reports the static current for each power/ground net:  check_pg_library -total_currents /../pg.cl  The following is a sample output of this command:  Net VSS  Static current = -0.00021181  Net VDD  Static current = 0.000211809  MODE1  Trigger Condition: ( !CEN & !WEN )  Net VDD      Peak = 0.0138308      Avg = 0.000276053      Number of points 190  Net VSS      Peak = -0.0166879      Avg = -0.000300184      Number of points 190  MODE2...  "*" 2 The following command generates a capacitance table (powergate_stdcells.cap_table) that contains the detailed capacitance values of the powergate_stdcells.cl library:  check_pg_library -report_detail_multiple_voltage_cap
../powergate_stdcells.cl  The following is a snippet of the capacitance table file (powergate_stdcells.cap_table):  ==========================================================================  CellName    NetName      Voltage       Capacitance  --------------------------------------------------------------------------  powercell    vccm        0.1000        4.586e-14            powercell    vccm        0.2825        4.102e-14 
...  "*" 2 The following command specifies to output the settings used during generation of macros_pll.cl to a text file called command_list.txt:  check_pg_library -command_dump macro_pgv/macros_pll.cl  The following is a sample snippet of the command_list.txt file:  temperature 25  spice_subckts /../spice.sp  spice_models /../spectre_load.sp  extraction_tech_file /../tech.tch  gds_files /../file1.gds    stop@via VIA_1  spice_subckts_xyscaling 1000  use_powergate_data_from_lib 0  default_frequency 2e+08  decap_frequency 1e+08  "*" 2 The following command generates the power-grid library report:  check_pg_library -output report -report /../pg.cl   The following is a sample output of this command:  ==============================================================================  Library path name:        /it/../library  Library name:            pg  Hierarchical library:    NO  User login:              user  Date:                    2015-Sep-03 03:58:45 (2015-Sep-03 10:58:45 GMT)  ToolIdentifier:          VOLTUS  Application version:     15.20-d127_1  Number of cells in library:    1  ==============================================================================  Cell                PowerNets       Capacitance      PowerGrid Views  ---------------------------------------------------------------------------------------------------------------------|  cell1                      VSS(0.0000)     5.3e-12          EARLY(255 taps) EM(8827 taps) IR(8827 taps)                      VDD(0.9000)     6.8e-12          EARLY(193 taps) EM(7534 taps) IR(7534 taps)   Cell Type = MACRO                                     Cell_Status: PASS  INFO:  Dynamic Tap Current views were created for this cell. MODE1 has  Conditional input = "( !CEN & !WEN ) " and Conditional pin = "CLK  RISE".  INFO: Dynamic Tap Current views were created for  this cell. MODE2 has Conditional input = "( CEN & WEN ) " and  Conditional pin = "CLK RISE".  ---------------------------------------------------------------------------------------------------------------------|  
.RE 
.SH Related Information
.RS  "*" 2 validate_pg_library  "*" 2 "Power-Grid Library Generation" in the Voltus IC Power Integrity Solution User Guide
.RE
.P
