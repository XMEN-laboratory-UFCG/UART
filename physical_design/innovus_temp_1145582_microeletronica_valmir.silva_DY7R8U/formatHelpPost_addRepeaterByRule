.nf
.P Product Version     22.14    Cadence Design Systems, Inc. 
.fi
.TH addRepeaterByRule  22.14 "Fri Oct 06 02:12:27 2023" 
.SH Name \fBaddRepeaterByRule\fR \-  Inserts buffers and/or inverters to nets, as defined in a rule file
.SH Syntax \fBaddRepeaterByRule\fR    [-help]  [-copyNetAttribute]  [-excNet <excludeNetFile>]  [-netMapping <fileName>]  [-outDir <directoryName>]  [-preRoute | -postRoute | -alongRoute]  [-reportIgnoredNets <ignoredNetFile>]  [-rule <fileName>]   [-selNet <selNetFile>]  [-template] 
.P Inserts buffers and/or inverters to nets, as defined in a rule file. By default, inserts available buffers and/or inverters with the smallest total area cost while satisfying the rules. As compared to DRV fixing, addRepeaterByRule does not consider transition violations (maxTran) or any timing information. Instead, it constrains max total net length, max radius length, max capacitance, max fanout count, and so on. Also, addRepeaterByRule  does not legalize newly added buffers. You need to legalize the added buffers to a legal location.
.P The command provides an efficient, buffering method for top-level designs.
.P Note: Max radius length refers to the sum of wire lengths from the driver to the farthest sink and max total net length refers to the total (sum) wire lengths throughout the target net.
.P The command has the following features:
.RS  "*" 2  Supports multiple buffer/inverter/AO cells simultaneously  "*" 2  Supports multiple types of constrains simultaneously  "*" 2  Provides complete MSV compatibility solution  "*" 2  It is multithreaded
.RE
.P The rule file may contain two categories of constraints, where each category further breaks down to several constraint types. All constraints share the same syntax of 'command value'.  1. Individual repeaters' rule: constrains each repeater's driving capability.
.RS  "*" 2 max net total length (um): SetInverterMaxNetLength, SetBufferMaxNetLength, SetBufferMinLayerMaxNetLength, SetInverterMinLayerMaxNetLength  "*" 2 max radius length (um): SetInverterMaxRadiusLength, SetBufferMaxRadiusLength  "*" 2 max capacitance (pF): SetInverterMaxCap, SetBufferMaxCap  "*" 2 max fanout count: SetInverterMaxFanout, SetBufferMaxFanout  "*" 2 max fanout at sink count: SetMaxFanoutAtSink     "*" 2 max wirelength (um) of the net driving the sink term: SetMaxNetLengthAtSink
.RE
.P  2. Global default rule: constrains all other instances beyond those newly inserted repeater instances.
.RS  "*" 2 default max net total length (um): SetDefaultMaxNetLength, SetDefaultMinLayerMaxNetLength  "*" 2 default max radius length(um): SetDefaultMaxRadiusLength  "*" 2 default max cap length (pF): SetDefaultMaxCap  "*" 2 default max fanout count: SetDefaultMaxFanout  "*" 2 default max sink radius length (um): SetDistLastRepToSink   "*" 2 default max wirelength (um) of the net driving the sink term: SetMaxNetLengthAtSink 
.RE
.P Those constraints can be used individually or combined. However, at least one valid repeater must be specified in the rule file. If the global default rule for certain constraint type is omitted from the rule file, the command automatically picks the tightest constraint from the repeaters defined in the rule file under the same type of constraint as the default constraint. A sample rule file is shown in the "Example" section.
.P The following three layer-based rules are provided to support specifying net length constraints independently for each user specified layer:
.RS  "*" 2 minimum layer for max net total length (um): SetBufferMinLayerMaxNetLength and SetInverterMinLayerMaxNetLength  "*" 2 default minimum layer for max net total length (um): SetDefaultMinLayerMaxNetLength
.RE
.P Note: You must specify the bottom_preferred_routing_layer/top_preferred_routing_layer attribute for the nets that need layer-based buffering.  If no attribute is present, the net will be routed  with the default rule on default layers.
.P Use Model
.P When max layer constraint is specified:
.P SetBufferMaxNetLength BUF_X4M_A9TR 300.0
.P In the above scenario, ARR will buffer the net with BUF_X4M_A9TR at length intervals of 300um.
.P When minimum layer support is also specified along with max layer constraint, then the following two scenarios are possible:
.P Example 1:  SetBufferMaxNetLength          BUF_X4M_A9TR     300.0  SetBufferMinLayerMaxNetLength  BUF_X4M_A9TR 6   500.0
.P In the above example,  layers 2-5 will have a 300um max length, and becasue there is a minimum layer constraint on the net of layer 6 or higher, the length constraint will be increased from 300 to 500um.
.P Example 2:
.P When multiple minimum layer constraints are specified:
.P SetBufferMaxNetLength            BUF_X4M_A9TR     300.0  SetBufferMinLayerMaxNetLength    BUF_X4M_A9TR 6   500.0  SetBufferMinLayerMaxNetLength    BUF_X4M_A9TR 11  800.0
.P In the above example, layers 2-5 will have a 300um max length; layers 6-9 will have a 500um max length; and 11+ will have an 800um max length. 
.SH Parameters   "\fB-help\fR" Outputs a brief description that includes type and default information for each addRepeaterByRule parameter. For a detailed description of the command and all of its parameters, use man addRepeaterByRule.  "\fB-alongRoute\fR" Allows repeater insertion along the route. The database should be global-routed with preRoute RC extraction before calling this option.   Note: Run refinePlace and ecoRoute if you specify this parameter.  "\fB-copyNetAttribute\fR" When this parameter is specified, the net attributes set on the original nets are copied to the nets inserted by this command.   "\fB-excNet <fileName>\fR" Specifies a file that contains the names of hierarchical nets to exclude from rule violation repair. If a net appears in the files specified by both -excNet and -selNet, it is excluded from rule violation repair.  "\fB-netMapping <fileName>\fR" When specified, generates a file that maps the original net names to the nets inserted by this command. An example of the file format is provided below. In this example, netA is split into two nets; FE_new_net1_netA and FE_new_net2_netA.   netA FE_new_net1_netA   netA FE_new_net2_netA  If, in the next iteration, FE_new_net1_netA is split again, the file would contain the following:FE_new_net1_netA FE_new_net1_FE_new_net1_netA   FE_new_net1_netA FE_new_net2_FE_new_net1_netA    "\fB-outDir <directoryName>\fR" Specifies the directory where the software writes detailed failure reason report that is generated when this command runs. By default, the failure reason report is dumped in the timingReports/ARRFailureReason/<design> directory. For example,  timingReports/ARRFailureReason/<design>.arr.preRoute.rpt.gz   Default: timingReports  "\fB-postRoute\fR" Allows repeater insertion along the route. The database should be detailed-routed with detailed RC extraction before calling this option. Preserves routing so that changes are minimized.  Note: Run refinePlace  and ecoRoute  if you specify this parameter.  "\fB-preRoute\fR" Allows repeater insertion with different routing topologies. The database should be global-routed with preRoute RC extraction before calling this option.    When this parameter is specified, the software explores different typologies to optimally insert repeaters.  "\fB-reportIgnoredNets <fileName>\fR" Reports the nets where no buffers were inserted and the reason the nets were ignored.  "\fB-rule <fileName>   \fR" Specifies a file you create that should list the buffers and inverters and the length and capacitance rules for inserting each of them. Only buffers and inverters included in the rule file are inserted.  "\fB-selNet <fileName>\fR" Specifies a file that contains the names of hierarchical nets considered by this command. If a net appears in the files specified by both  -excNet  and   -selNet , it is excluded from rule violation repair.   "\fB-template\fR" Writes a template rule file.  Note: When the -template parameter is specified, the software does not honor any other parameters for this command. 
.SH Examples
.RS  "*" 2 The following command explores different typologies to optimally insert repeaters:  addRepeaterByRule -rule rule1 -preRoute  "*" 2 In a detailed routed database with RC extraction, the following command inserts repeaters along the route and preserves routing, so that changes are minimized:  addRepeaterByRule -rule rule1 -postRoute  "*" 2 The following command inserts repeaters on those nets specified in the file, net_file1:  addRepeaterByRule -rule rule1 -selNet net_file1
.RE
.RS  "*" 2 The following is an example of a template rule file:   ##########################################################################  ################### addRepeaterByRule template rule file ####################  #############################################################################  # constraintType            cellName              constraint value   #                                              Length(um)/cap(pF)/count   #############################################################################  ########### max net total Lengths for individual repeaters     SetInverterMaxNetLength    HS65_LH_IVX7         150.0     SetBufferMaxNetLength      HS65_LS_BFX7         300.0   ########### max radius Lengths for individual repeaters     SetInverterMaxRadiusLength HS65_LH_IVX7         100.0     SetBufferMaxRadiusLength   HS65_LS_BFX7         240.0   ########### max capacitance for individual repeaters     SetInverterMaxCap         HS65_LH_IVX7          10.0     SetBufferMaxCap           HS65_LS_BFX7          20.0   ########### max fanout for individual repeaters     SetInverterMaxFanout      HS65_LH_IVX7          20     SetBufferMaxFanout        HS65_LS_BFX7          30   ########### default max net total Lengths     SetDefaultMaxNetLength                          100.0   ########### default max radius Lengths     SetDefaultMaxRadiusLength                       200.0   ########### default max capacitance     SetDefaultMaxCap                                15.0   ########### default sink max radius length     SetDistLastRepToSink                            50.0   ########### max net lengths from sink      SetMaxNetLengthAtSink                           100.0  ########### default max fanout     SetDefaultMaxFanout                             20  ################################################################################   'DrivingStrength' constrains both max radius Length and max cap.          ################################################################################   constraintType              cellName            Length(um)      cap(pF)   ###############################################################################        SetInverterDrivingStrength  HS65_LH_IVX7        100.0           10.0       SetBufferDrivingStrength    HS65_LS_BFX7        240.0           20.0       SetDefaultDrivingStrength                       200.0           15.0
.RE 
.SH Related Information
.RS  "*" 2 ecoRoute  "*" 2 refinePlace
.RE
.RS  "*" 2 The following topics in the Innovus User Guide
.RS  "*" 2 Optimizing Timing Using a Rule File  "*" 2 Default Naming Conventions in Viewing the Added Buffers, Instances, and Nets after Optimization topic.
.RE 
.RE
.P
