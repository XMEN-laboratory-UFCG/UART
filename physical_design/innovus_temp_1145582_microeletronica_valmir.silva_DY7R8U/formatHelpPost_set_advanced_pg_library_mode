.nf
.P Product Version     22.14    Cadence Design Systems, Inc. 
.fi
.TH set_advanced_pg_library_mode  22.14 "Fri Oct 06 02:12:27 2023" 
.SH Name \fBset_advanced_pg_library_mode\fR \-  Specifies the advanced power-grid library generation features
.SH Syntax  \fBset_advanced_pg_library_mode\fR  [-abort_on_extraction_errors {true|false}]  [-add_port_labels <file_name>]  [-assume_foreigns {true | false}]  [-assume_foreigns_mode [1 | 0]]  [-cell_accura_data_file <file>]   [-cell_per_distributed_host <value>]  [-cell_pinnet_map_file <file>]  [-circuit_include_file <thunder.inc>]  [-cluster_via_rule {{<via_layer1 number_of_equidistant_vias>}...}]   [-cluster_via_size <value>]  [-common_supply_pins {<net_name+>}]  [-create_static_view_from_dynamic_view {true | false}]  [-damping_decap_cell_list {<cell1> <cell2>
..}]  [-damping_decap_frequency <value>]  [-decap_frequency <value>]  [-default_frequency <value>]  [-default_power_voltage <value>]  [-delete_ddv_fsdb_files {true|false} ]  [-disable_powergate_rampup_simulation {true | false}]  [-distribute_current_to_switch_net {true | false}]  [-enable_ac_simulation_for_IO_characterization {true | false}]  [-enable_spectre_netlist_flow  {true | false} ]  [-enable_subconductor_layers {true | false}]  [-enable_via_based_current_distribution {true | false}]  [-esd_cells {<cell_list>}]  [-esd_cells_list_file <filename>]  [-esd_device_list {<device1> <device2>
.... <deviceN>}]  [-esd_parameters_file <filename>]  [-esd_pin_list {<pin1> <pin2>
.... <pinN>}]  [-exclude_tap_region_file <filename>]  [-extraction_command_file <file>]  [-followpins_tap_layer {lowest_lef_pin_layer | highest_lef_pin_layer | all_lef_pin_layers}]  [-followpins_interface_node_layer {lowest_lef_pin_layer | highest_lef_pin_layer | all_lef_pin_layers}]  [-generate_bulk_pin_cap_separately {true | false}]  [-generate_graybox_data {true | false} ]  [-generate_itfnode_x_direction {true | false}]  [-generate_itfnode_y_direction {true | false}]  [-generate_itfnodes_at_via_layer {true | false}]  [-ignore_pg_nets {{<cellname>  <netname>}+}]  [-import_xdspf_list_file <filename>]  [-input_port_value_list {<pin1> <value1> <pin2> <value2>
....<pinN> <valueN>}]  [-interface_node_location_file <filename>]  [-lef_layer_ignore_list {<lef_layername> +}]  [-lef_layer_ignore_list_file <filename>]  [-lef_pin_short {true | false}]  [-lef_pin_short_cell_file <file>name]  [-lef_pin_short_cell_list {<cell1> cell2
...}]  [-libgen_command_file <file>]  [-macro_parasitic_file <filename>]  [-marker_layermap <filename>]  [-mcpu_rerun_count <count>]  [-pgdb_layermap <filename>]  [-pgdb_list_file <filename>]  [-powergate_characterization_voltages { <val1> <val2> <val3>
.... }]  [-powergate_multi_enable_characterization_method {enable_all | enable_single} ]  [-process_bulk_diffusion_ports {true|false}]  [-remove_emview_dangling_resistor {true|false}]  [-retain_generated_pgv_on_error {true | false}]  [-ron_measure_threshold <value>]  [-schematic {true|false} ]  [-skip_switch_net_extraction {true | false}]  [-source_location_file {<filename>}]  [-spectre_path <value>]  [-stdcell_characterization_voltage_value  {<val1>  <val2>  <val3>
...}]  [-strict_input_check {true|false}]  [-tap_node_distance <value>]  [-techgen_dir <directory>]  [-thunder_command_file <file>]  [-trim_metal_layer_map <file>]  [-use_embedded_spectre {true | false}]  [-use_peak_current_distribution {true | false}]  [-verbosity {true | false}]  [-via_based_current_config_file filename]  [-well_cap_file <filename>]  [-xdspf_layermap <filename>]  [-xtc_command_file <filename>]  [-xtc_include_file_for_qdv <filename>] 
.P Specifies the advanced power-grid library generation features.  If the set_advanced_pg_library_mode command is specified twice, the last specified command takes precedence.
.P 
.SH Parameters    "\fB-abort_on_extraction_errors{true | false}\fR" Specifies whether the software should exit with an error message or continue when it encounters extraction errors.  Default: true  "\fB-add_port_labels <file_name>\fR" Specifies the name of a file containing details about the label of a switched rail. Using this parameter, you can add a label for the switched rail manually in the specified port file, if the switched rail is not labeled.
.P The format of the port file is given below:   MACRO macro_name  PIN pin_name  "\fB-assume_foreigns {true | false}\fR" Enables the Library Characterization engine to process LEF files in which FOREIGN statements are not defined as part of the macro definition. When generating detailed power-grid views, the engine assumes that FOREIGN statements are defined as part of the macro definition in the LEF file.  When this option is set to true, the engine processes the LEF file by using the name defined by the MACRO statement rather than requiring a FOREIGN statement. The -assume_foreigns parameter ensures that the FOREIGN statement is placed at 0,0. Therefore, if the MACRO statement has an offset, you must provide a FOREIGN statement that contains an offset. This option works for offsets that are 0,0 or the inverse of the origin.  Default: false  "\fB-assume_foreigns_mode {1 | 0}\fR" Determines how the Library Characterization engine processes cells for which FOREIGN statements are assumed. If set to 0, the engine assumes that the cell for which FOREIGN statements are assumed is placed at (0,0). When you set it to 1, the engine assumes that the FOREIGN cell is placed at the inverse of the macro origin.  Default: 1  "\fB-cell_accura_data_file <file>\fR" Specifies the name of a file containing data about the electrical characteristics of cells. Voltus library simulator requires this data to generate currents during power-grid view generation.  "\fB-cell_per_distributed_host <value>\fR" Specifies the number of cells to be submitted per host for distributed PGV generation.  Default: 50  "\fB-cell_pinnet_map_file <file>\fR" Specifies the mapping between the cell LEF pin names and the internal names of the net to which those pins are attached. It is used when multiple pins are attached to a single net.  "\fB-circuit_include_file <simulator.inc>\fR" Specifies the name of the input file for Voltus library simulator in the Library Characterization command file.  "\fB-cluster_via_rule {{<via_layer1 number_of_equidistant_vias>}...}\fR" Controls the number of vias to cluster on a layer basis. The VIA clustering rule specified using this parameter will override the default clustering rule for PGV generation. You can use this parameter when you need clustering at VIA1, or different clustering for different layers. The default cluster size for PGV generation is 64 for all via layers except VIA1.  Example:  The following command will cluster 100 equidistant VIA1 cuts, 200 equidistant VIA2 cuts, and 300 equidistant VIA7 cuts:  set_advanced_pg_library_mode -cluster_via_rule {{VIA1 100} {VIA2 200} {VIA7 300}}  "\fB-cluster_via_size<value>\fR" Specifies that power-grid extraction for library cell needs to perform 64 (8x8) via clustering inside PGV for all via layers above VIA1 between Metal1 and Metal2.    The following command specifies to perform 16 (4x4) via clustering:  set_advanced_pg_library_mode -cluster_via_size 16  Default: 64  "\fB-common_supply_pins{<net_name+>}\fR" Identifies the generic supply net or nets which could act as either a power or ground supply net. No wildcards are allowed for the specification of net names.  Generic supply nets are used for pads or bump cells that could be connected to either a power or ground net. They will be connected to the correct power-grid based on the DEF or GDS file.  "\fB-create_static_view_from_dynamic_view {true | false}\fR" Specifies to generate static power-grid view by averaging of dynamic currents in the multi-mode characterization flow. When this parameter is specified, the software performs averaging of the dynamic currents of all the modes and saves it as static current in the power-grid view.  Default: false  "\fB-damping_decap_cell_list {<cell_list>}\fR" Specifies a list of damping decap cells.  "\fB-damping_decap_frequency <value>\fR" Specifies the frequency of operation of the damping decap cells. The default value is 200MHz.  Default: 200MHz  "\fB-decap_frequency<value>\fR" Specifies the decoupling capacitance frequency used during PGV generation.   Intrinsic capacitance of cells has a significant dependency on frequency used during PGV generation. PGVs characterized with higher frequency may lead to pessimism during dynamic analysis due to less impact of intrinsic capacitance of the cells characterized with higher frequency. Using this parameter, you can specify the dominant frequency to be used for PGV generation.  The default value for decoupling capacitance frequency is 1GHz.  "\fB-default_frequency <value>\fR" Specifies the default frequency of signal nets in hertz (Hz); this is used to calculate the current and capacitance values during the creation of detailed power-grid views.  For example, the following command specifies that the default switching frequency is 100 MHz:
.RS  "*" 2 set_advanced_pg_library_mode -default_frequency 100e+06
.RE   "\fB-default_power_voltage <value>\fR" Specifies the default voltage for power nets. This parameter assigns a default value to power nets for which voltage has not been defined using the -power_pins parameter.  "\fB-delete_ddv_fsdb_files {true | false}\fR" Specifies to delete the intermediate FSDB files generated in the Spice deck (user-specified) method of current characterization. This parameter allows you to retain or delete the huge FSDB files.   "\fB-disable_powergate_rampup_simulation{true | false}\fR" Specifies whether to run power gate ramp-up simulation during power-grid view generation. When this parameter is set to true, the Ids-Vds table will not be present in PGV, therefore, this PGV cannot be used for the power-up or rush current analysis flow. This parameter can be specified to reduce the run time when you require only the RON/Idsat/Ileak and Cap values in PGV.  disable_powergate_rampup_simulation is used when power gate parameters are specified using the set_pg_library_mode -powergate_parameters_file parameter. This parameter can only be used for the standard cell PGV generation.  Default: false  "\fB-distribute_current_to_switch_net {true | false}\fR" Distributes the PWL waveform, which is specified to the always-on power net, to the taps of both the always-on power net and the related switched power nets in the fine-grain memory characterization flow. By default, the current waveform is distributed only to the taps of the always-on power net when you specify the PWL to the always-on power net.  "\fB-enable_ac_simulation_for_IO_characterization{true | false}\fR" Specifies to perform an AC analysis based coupled capacitance calculation for IO cells. When set to false, the software performs DC analysis based coupled capacitance calculation for IO cells. The AC analysis based coupled capacitance calculation is slower than the DC analysis based coupled capacitance calculation.  Default: false  "\fB-enable_spectre_netlist_flow{true | false}\fR" Specifies to use the Spectre simulator to read the Spice/Spectre netlist for the standard cells characterization flow. This option should be used when the netlist is in Spectre format, or when the netlist is encrypted by Spectre.  Default: false  "\fB-enable_subconductor_layers{true | false}\fR" Allows to control the generation of the sub-conductor layers in the PGV. When this parameter is set to false, the sub-conductor layers are not generated in the PGV.  Default: true  "\fB-enable_via_based_current_distribution {true | false}\fR" Default: false  Specifies to enable location-based via current modelling during GDS-based macro power-grid view generation. When set to true, defines the current values only on the user-defined via location. This parameter allows you to define average and peak current values for specific-location vias.  The -enable_via_based_current_distribution parameter must be specified with the -via_based_current_config_file parameter.   If the parameter is set to false, current is uniformly distributed across all vias in the macro PGV.    "\fB-esd_cells {<cell_list>}\fR" Specifies a list of Electrostatic Discharge (ESD) cells. You can use this parameter to characterize ESD cells.  When you specify this parameter, the list of ESD cells are later used in the check_esd command while loading the power-grid view library. As a result, you do not need to specify the ESD cell names with the -esd_cell_list parameter of the check_esd command.  "\fB-esd_cells_list_file<filename>\fR" Specifies a file containing a list of ESD cells that are later used in the ESD analysis flow while loading the power-grid view library.    The -esd_cells_list_file parameter is the same as the existing -esd_cells parameter of the set_advanced_pg_library_mode command, except that the -esd_cells_list_file parameter allows you to specify a list of ESD cells in a file while the -esd_cells parameter allows you to specify the ESD cells in the command line itself.  The following is an example of this parameter:  set_advanced_pg_library_mode -esd_cells_list_file {./Esd_Cell_list.txt}    The following is the ESD cell file format:  CELL_1  CELL_2 
...  CELL_n  "\fB-esd_device_list{<device1><device2>.... <deviceN>}\fR" Specifies the list of ESD devices. The ESD device information is used for accurate ESD analysis as it takes into account the internal grid from the ports to the ESD devices. The followings inputs are required for ESD tagging during macro PGV generation:
.RS  "*" 2 an xDSPF file  "*" 2 ESD device list
.RE   "\fB-esd_parameters_file <filename>\fR" Specifies resistance information for the following types of ESD cells during ESD cell characterization:
.RS  "*" 2 Diodes  "*" 2 RC Clamp
.RE   When this parameter is specified, the software uses these electrical parameters from the generated PGV for ESD analysis.  The format of the input file is:  Cell <<cell name>>  <<Ron>> <<Roff>> <<power_pin>> <<ground_pin>> <<voltage>>  Type <<esd cell type>> <<Ron>> <<Roff>> <<power_pin> <ground_pin> <voltage>>   Here,
.RS  "*" 2 Cell and Type are keywords  "*" 2 <<cell name>> specifies the ESD cell name  "*" 2 <<esd cell type>> specifies the ESD cell type, such as DIODE and CLAMP  "*" 2 RON is the resistance of the complete cell when it is switched on.  "*" 2 ROFF is the resistance of the complete cell when it is switched off.  "*" 2 <power_pin> is the name of the power pin connected to the power net  "*" 2 <ground_pin> is the name of the ground pin connected to the ground net  "*" 2 <voltage> is the threshold value between the power and ground pin.  "*" 2 When you specify the cell name, the RON and ROFF would be applied only for that cell, and when you specify the cell type, the RON and ROFF would be applied for all the ESD cells of the particular type.
.RE   The following is a snippet of the input file:  Cell HEADER_SWITCH 10 5 pwr_pin gnd_pin 0.4  "\fB-esd_pin_list<{pin1 pin2>
....<pinN>}\fR" Specifies the list of ESD pins. This parameter tags the user-specified pin as the ESD pin before running the analyze_esd_network command, and ensures that the software traces only this ESD power pin to bump and extracts resistance. The ESD cell pins that are tagged using this parameter are listed in the 
.report file.   "\fB-exclude_tap_region_file<filename>\fR" Specifies to exclude certain tap points during macro PGV generation. This parameter helps to avoid false IR-drop violations inside macros caused by inadvertently assigning evenly-distributed tap current to certain undesired tie high/low paths or shielding paths at certain via layers. The Spice netlist and models are not mandatory parameters for excluding the tap points in the macro PGV generation flow.   The format of the region file is:  REGION X1 Y1 X2 Y2  REGION X3 Y3 X4 Y4  where, REGION keyword specifies that the coordinates following it is a tap current region. The unit for coordinates is micron.  "\fB-extraction_command_file <file>\fR" Specifies the file name of an extraction command file.  "\fB-followpins_tap_layer {lowest_lef_pin_layer | highest_lef_pin_layer | all_lef_pin_layers}\fR" Specifies the LEF metal layer used to generate current taps. This parameter has two arguments:
.RS  "*" 2 lowest_lef_pin_layer: The tool generates current taps only on the lowest LEF metal layer. For example, if both METAL1 and METAL2 metal layers exist for the power/ground pin in the cell LEF, the tool uses METAL1 layer as the tap layer.  "*" 2 highest_lef_pin_layer: The tool generates current taps only on the highest LEF metal layer. For example, if both METAL1 and METAL2 metal layers exist for the power/ground pin in the cell LEF, the tool uses METAL2 layer as the tap layer.  "*" 2 all_lef_pin_layers: The tool generates current taps on all LEF metal layers. For example, if both METAL1 and METAL2 metal layers exist for the power/ground pin in the cell LEF, the tool uses both METAL1 and METAL2 layers as the tap layer. This is the default value.
.RE   "\fB-followpins_interface_node_layer {lowest_lef_pin_layer | highest_lef_pin_layer | all_lef_pin_layers}\fR" Specifies the LEF metal layer used to generate interface nodes. This parameter has three arguments:
.RS  "*" 2 lowest_lef_pin_layer: The tool generates interface nodes only on the lowest LEF metal layer. For example, if both METAL1 and METAL2 metal layers exist for the power/ground pin in the cell LEF, the tool will only generate the interface nodes on the METAL1 layer.  "*" 2 highest_lef_pin_layer: The tool generates interface nodes only on the highest LEF metal layer. For example, if both METAL1 and METAL2 metal layers exist for the power/ground pin in the cell LEF, the tool will only generate the interface nodes on the METAL2 layer.  "*" 2 all_lef_pin_layers: The tool generates interface nodes on all LEF metal layers. For example, if both METAL1 and METAL2 metal layers exist for the power/ground pin in the cell LEF, the tool generates the interface nodes on both METAL1 and METAL2 layers. This is the default value.
.RE   "\fB-generate_bulk_pin_cap_separately {true | false}\fR" Specifies to generate separate capacitance values for body bias pins in the library report. This parameter allows you to check the bulk pin capacitance based on the Spice simulation.  When set to false, the software would sum up the capacitance values for the body bias pins and power/ground pins.  Default: false  The following is a snippet of the library report:  cell_A              VPP(0.9350)     2.3e-16         EARLY(1 taps) EM(1 taps) IR(1 taps)              VBB(0.0000)     2.3e-16         EARLY(1 taps) EM(1 taps) IR(1 taps)              VDD(0.9350)     8.1e-15         EARLY(1 taps) EM(1 taps) IR(1 taps)              VSS(0.0000)     8.1e-15         EARLY(1 taps) EM(1 taps) IR(1 taps)  Cell Type = STDCELL                    Cell_Status: PASS  Here, the blue-highlighted text shows the capacitance values for the VPP and VBB body bias pins.  "\fB-generate_graybox_data{true | false}\fR" Controls the generation of gray box data and storage of this data in the cell library. It is recommended to set this parameter to false to reduce the size of the PGV significantly (from 10MB to 1MB) without loss of accuracy.   Default: true  "\fB-generate_itfnode_x_direction {true | false}\fR" When the LEF port geometry is bigger than the tap node distance (set_advanced_pg_library_mode -tap_node_distance), multiple interface nodes are generated. You can specify this parameter to generate the interface nodes along the X direction.  When set to false, interface nodes are not generated along the specified direction.  Default: true  "\fB-generate_itfnode_y_direction {true | false}\fR" When the LEF port geometry is bigger than the tap node distance (set_advanced_pg_library_mode -tap_node_distance), multiple interface nodes are generated. You can specify this parameter to generate the interface nodes along the Y direction.  When set to false, interface nodes are not generated along the specified direction.  Default: true  "\fB-generate_itfnodes_at_via_layer{true | false}\fR" Specifies to generate interface nodes at via locations in scenarios where the tap current source is a VIA layer.    "\fB-ignore_pg_nets {{<cellname> <netname>}+}\fR" Skips the specified power or ground nets in PGV generation.   "\fB-import_xdspf_list_file <filename>\fR" Specifies the name of the xDSPF (third-party netlist) parasitic file that is imported by the Library Characterization engine to create PGDB. You must also specify the mapping file using the -xdspf_layermap parameter.  When you specify this parameter, the following parameters are not supported:
.RS  "*" 2 -xtc_command_file 
.RE
.RS  "*" 2 set_pg_library_mode -spice_subckts 
.RE
.RS  "*" 2 set_pg_library_mode -gds_files 
.RE
.RS  "*" 2 set_pg_library_mode -gds_layermap
.RE
.RS  "*" 2 -techgen_dir
.RE   "\fB-input_port_value_list {<pin1> <value1> <pin2> <value2>
....<pinN> <valueN>}\fR" Specifies the voltage conditions of the signal inputs during power-grid library characterization. A typical usage model of this parameter include setting the SET or RESET signal port to be the same voltage as supply or ground (tie high/low) to obtain the correct model of operation.  The following example illustrates the use model:  set_advanced_pg_library_mode -input_port_value_list { RESETVDD 3.3 }   "\fB-interface_node_location_file<filename>\fR" Specifies a file containing the location of interface nodes where tap currents are to be generated. The specified file includes the cell name, net name, layer name, and location of the nodes. This parameter allows to generate current taps at user-specified locations during PGV generation.  The format of the file is:  CELL <<cell_name>>  NET <<net_name>>  LAYER <<layer_name>> (<x1>,<y1>),(<x2>,<y2>)  Example:  CELL cellA  NET VDD  LAYER M0 (0,0.15),(0.585,0.177),(0.2,0.15),(0.3,0.177)  NET VSS  LAYER M0 (0.485,0.019)  CELL cellB  NET VDD  LAYER M0 (0.49,0.008),(0.24,0.008)  "\fB-lef_pin_short {true | false}\fR" Enables shorting of the unconnected LEF pins and ports to establish electrical connectivity. When set to true, shorts the interface nodes for all the cells that are being processed.  Default: false  "\fB-lef_layer_ignore_list{<lef_layername+>}\fR" Specifies the names of the LEF layers that power-grid library generation is to ignore when it creates the cell library.   "\fB-lef_layer_ignore_list_file<filename>\fR" Specifies the name of a file containing a list of the LEF layers that power-grid library generation is to ignore when it creates the cell library. Each line in the file must consist of a single LEF layer name.  The format of the file is:  <layer1>  <layer2>  <...>  <layern>  "\fB-lef_pin_short_cell_file <file>name\fR" Specifies the name of a file containing a list of cells and the net name, metal layer name, and resistance value for each layer. It is used to short the LEF pins and ports by the user-specified resistance value. When this parameter is specified, only the given list of nets are shorted with the user-defined resistance values. If a resistance value is not specified for a layer, the default resistance value of 0.001 is used.  The format of the file is:  CELL <<cell_name>>   <<net_name>> <<layer_name>> <<resistance_value>>  Example:  CELL bump_70N_M4  VDD Metal4 12  CELL bump_70N_M5  VDD Metal4 15  VDD Metal5 12  "\fB-lef_pin_short_cell_list {<cell1> cell2
...}\fR" Specifies a list of cells for which the the LEF pins and ports are shorted by the default resistance value of 0.001ohm. When this parameter is specified, all the nets of the given cells are shorted using the resistance value of 0.001ohm.   "\fB-libgen_command_file <file>\fR" Specifies the file name of a power-grid library generation command file.  "\fB-macro_parasitic_file <filename>\fR" Specifies the name of the SPEF file that provides signal net parasitics while creating a detailed dynamic view in Library Characterization. The SPEF should be extracted in the decouple_rc mode.  Note: A SPEF file is required only when you specify your own netlist in the Netlist-based flow. The SPEF file is a requirement when the netlist does not have signal caps. You should not specify the signal parasitics using the -ultasim_include_file option.  "\fB-marker_layermap<filename>\fR" Specifies the GDS layer mapping file containing the list of marker GDS layers that are used for layer operations during XTC processing. Marker layers are layers which do not have corresponding tech layers.  This parameter is used to support extraction of Metal-Insulator-Metal Capacitor (MIMCAP) geometries during power-grid library characterization. The following is the format of the mapping file:  Layer Type   marker_layername   GDS keyword    gds_layer_number  metal          CTM_O             gds            77 1  metal          CBM_O             gds            88 1  "\fB-mcpu_rerun_count <count>\fR" Specifies to rerun the cells that failed due to machine issues during PGV library generation. This parameter allows you to specify the number of times the failed cells can be resubmitted in the distributed processing mode.  Default: 0  "\fB-pgdb_list_file <filename>\fR" Specifies the name of the PGDB header file containing the list of cells for which Library Characterization should generate power-grid views. The syntax of the file is:  CELL cell_name  PGDB pgdb_directory  The PGDB directory contains the PGDB for all the power and ground nets of the cell. The PGDB directory has cellname_Netname.* files.   When you specify this parameter, the following parameters are not supported:
.RS  "*" 2 -xtc_command_file 
.RE
.RS  "*" 2 set_pg_library_mode -spice_subckts 
.RE
.RS  "*" 2 set_pg_library_mode -gds_files 
.RE
.RS  "*" 2 set_pg_library_mode -gds_layermap
.RE
.RS  "*" 2 -techgen_dir
.RE   "\fB-pgdb_layermap <filename>\fR" Specifies the name of the file containing the mapping between the layer name used in the technology file and the layer name used in the PGDB.  "\fB-powergate_characterization_voltages { <val1> <val2> <val3>
.... }\fR" Supports characterization of power gates at multiple voltages. You can specify multiple values of voltages so that the library characterization engine will characterize the power gates at each of the voltages. The software will then be able to get the characterized cell from the cell library for a particular voltage.   "\fB-powergate_multi_enable_characterization_method {enable_all | enable_single}\fR" Specifies the Ron/Idsat characterization method for power gate cells with multi-enable pins. This parameter allows you to control the generation of RON and Id-Vd curve for each enable pin. The possible characterization methods are:
.RS  "*" 2 enable_all: All the enable pins are switched ON for Ron/Idsat characterization. The generated PGV model will contain a single Ron resistor with the total equivalent resistance value. The cell library report displays the equivalent Ron value of all the enable pins. This is the default method.  "*" 2 enable_single: Only one enable pin is switched ON at a time for Ron/Idsat characterization, and the other pins are switched OFF. The generated PGV model will contain total number of Ron resistors that is equal to the number of enable pins. The cell library report displays Ron values separately for each enable pin.
.RE   This parameter is supported only for standard cells when the power gate parameters are specified using the -powergate_parameters_file parameter. For multi-enable power gate cells, Ileak/Roff are always calculated by keeping all the enable pins OFF.  Default: enable_all  Example:  set_pg_library_mode
... -powergate_parameters_file
./pg1.txt   set_advanced_pg_library_mode -powergate_multi_enable_characterization_method enable_all  "\fB-process_bulk_diffusion_ports {true | false} \fR" Specifies to create the DIFF layer ports of body bias pins in PGV.  By default, library generation ignores ports on the diffusion layer. In order to process body bias pin's ports on the diffusion layer for electrical analysis on body bias network, set this parameter to true during library generation.  "\fB-remove_emview_dangling_resistor{true | false}\fR" Specifies to restore or remove dangling resistors from power-grid views. It is recommended to minimize dangling resistors for optimal analysis of IR drops and accurate Blech length calculation at the top level in EM analysis.  Default: false  "\fB-retain_generated_pgv_on_error{true | false}\fR" Specifies to retain an incomplete cell library created during PGV generation even if the tool exits with a fatal error. When set to false, the tool deletes the incomplete cell library. This parameter is recommended for use during initial library creation and debugging.  The default value is false.  "\fB-ron_measure_threshold <value>\fR" Specifies the switched pin voltage during Ron simulation. The specified value will be multiplied by the VDD voltage (<value>*vdd_vol) and applied to the switched pin during Ron simulation. The default value is 0.99. You can specify a value between 0 and 1.   "\fB-schematic {true | false}\fR" Specifies whether the subcircuit netlist is a schematic netlist.  "\fB-skip_switch_net_extraction {true | false}\fR" Specifies to skip extraction of switched nets inside the GDS file for a fine-grain memory cell. The software will add the capacitance from the switched net to the always-on net. The software will thus consider the cell as a regular memory without switched/power-gated nets. When this parameter is specified, you do not need to specify the port file (set_advanced_pg_library_mode -add_port_labels) as the switched nets are not traced. The final PGV will be created with the always-on and VSS nets.    The power-gate library report file will contain information about the missing switched net, and the capacitance and current that was contributed by the switched net.  "\fB-spectre_path <value>\fR" Specifies an external Spectre path for PGV generation. This parameter allows you to use a different Spectre version than the one embedded with the software.   "\fB-source_location_file <filename>\fR" Specifies the name of the file containing the locations of the voltage sources to be connected to the pad cells. For more information on the source location file, see source_locationSource Location File Format.   "\fB-stdcell_characterization_voltage_value  {<val1> <val2> <val3>
...}\fR" Specifies capacitance characterization voltages when generating standard cell PGVs containing voltage-dependent capacitance table for the specified cell. This parameter allows you to compute capacitance based on the user-defined voltage values. The -stdcell_characterization_voltage_value parameter must be specified with the  set_pg_library_mode -enable_multi_voltage_cap_generation true parameter.  If this parameter is not specified with -enable_multi_voltage_cap_generation, capacitance is calculated based on the software-derived voltage range.  When the -stdcell_characterization_voltage_value parameter is specified, the library generation engine prints the capacitance values and corresponding voltages in the report file, and the rail analysis engine prints the capacitance used for each instance.  The following example illustrates the use model of this parameter:  set_pg_library_mode  -ground_pins VSS -power_pins  {VDD 0.9 TVDD 0.9 } -celltype stdcells \\ 
...   -enable_multi_voltage_cap_generation true  set_advanced_pg_library_mode -stdcell_characterization_voltage_value {1.0 1.2 1.5 2.0 3.3}  "\fB-strict_input_check {true | false}\fR" Specifies that the software should not create any view for the cell if the EM view is not generated. When set to true,  the software displays an error message if the Spice netlist or GDS is not specified, and gives details about the cell name and the reason for not generating the view.  Default: false  "\fB-tap_node_distance<value>\fR" Specifies to set the maximum distance between interface nodes when they get generated in power-grid library generation. The default is 50 microns.   Library generation creates interface nodes on port geometries in LEF and Extraction, uses them for top level connectivity tracing and also to connect the cell/block onto top level routing. The interface node generation is purely based on port geometries (tap points are placed one per port). For ports greater than -tap_node_distance, they are placed at -tap_node_distance apart. If the port pin geometry in LEF is bigger than the setting of the -tap_node_distance parameter, at least two nodes will get generated per port geometry.  "\fB-techgen_dir <directory>\fR" Specifies the techgen directory.  "\fB-thunder_command_file <file>\fR" Specifies the file name of a thunder command file.  "\fB-trim_metal_layer_map <file>\fR" Specifies the name of the file containing the mapping between a metal layer and its corresponding trim layer. When this parameter is specified, the trim layer shapes are automatically removed from the routing layer shapes to correctly extract all the nets in the generated PGV.  File Format:  <metal_layer_name trim_layer_name>  M0 CM0  M1 CM1  M2 CM2  "\fB-use_embedded_spectre {true | false}\fR" When set to false, allows you to specify a different Spectre version than the one embedded with the software. Library Generation will automatically pick Spectre from users' path.  Default : true  "\fB-use_peak_current_distribution {true | false}\fR" Default: false  Specifies to use the maximum currents of devices in the Spice netlist for current distribution in macros. When set to true, enables peak current distribution for faster PGV generation. The default (false) behavior is to enable activity propagation based current distribution.  "\fB-verbosity {true | false}\fR" Controls the amount of information displayed in the console and written to the log files during power-grid library generation.  Default: false  You can use this parameter for detailed troubleshooting and controlling the verbosity level in the log file.  "\fB-via_based_current_config_file <filename>\fR" Specifies the name of the configuration file containing tap current details for location-based via current generation. If -enable_via_based_current_distribution is set to true, this parameter must be specified.  Configuration File Format:  #---------------------------------------------------------------------  CURRENT_UNIT <<default_value>>  INPUT_SLEW <<default_value>>  OUTPUT_SLEW <<default_value>>  MAX_DISTANCE <Threshold distance for snapping via tap if the exact xy location is not found as specified>  DELAY <<default_value>>  PERIOD <<default_value>>  INTRINSIC_CAP { <power_net> <cap> <ground_net> <cap>}  #---------------------------------------------------------------------  ID     PGPIN_NAME     X    Y     AVG_CURRENT     PEAK_CURRENT  #---------------------------------------------------------------------  Configuration File Example  #---------------------------------------------------------------------  CURRENT_UNIT mA  INPUT_SLEW 20ps  OUTPUT_SLEW 10ps  MAX_DISTANCE 2.5  DELAY 5ps  INTRINSIC_CAP { VDD 40nF VSS 5nF }  #---------------------------------------------------------------------  ID      PGPIN_NAME     X         Y     AVG_CURRENT     PEAK_CURRENT  #---------------------------------------------------------------------  PVDD_1   VDD       16.3090   7.6470     50.0373       100.037  PVDD_2   VDD       16.6900   7.6470     50.0373       100.037  PVDD_3   VDD       17.0700   7.6470     50.0373       100.037 
...  When this feature is enabled, the tool by default generates a report dropped_via_location_taps.txt in the output directory to give a list of via IDs that were dropped because they were not within the snapping threshold limit. By default, the snapping threshold is zero. It is controlled by MAX DISTANCE in the configuration file.  "\fB-well_cap_file <filename>\fR" Specifies the name of a file containing a list of cells and the well capacitance value for each.  "\fB-xdspf_layermap <filename>\fR" Specifies the name of the xDSPF mapping file containing layer type and layer stack information from bottom most layer to top most.  You must define layers in the stack from top most layers at the top of the stack to bottom most layers at the bottom of the stack. With reference to this layermap stack, library generation will create the PGDB for the layers as defined in the xDSPF layermap file.  "\fB-xtc_command_file <filename>\fR" Specifies the name of the XTC command file.   "\fB-xtc_include_file_for_qdv <filename>\fR" Specifies the file name of an XTC include file used during characterization.   For example, you can include XTC commands to ignore GDS cells, to blackbox lower-level hierarchy cells, or to perform some basic GDS layer operations. 
.SH Examples
.RS  "*" 2 The following command creates a power-grid library:   set_advanced_pg_library_mode \\  -libgen_command_file library_inc.cmd \\  -thunder_command_file simulator.cmd  generate_pg_library -output output_dir   "*" 2 In the following example, power-grid library generation  ignores the LEF metal1 and metal3 layers when it creates the cell library:  set_advanced_pg_library_mode -lef_layer_ignore_list {metal1 metal3}  "*" 2 The following line indicates that a file named nolef.txt contains a list of the LEF layer names that power-grid library generation should ignore:  set_advanced_pg_library_mode -lef_layer_ignore_list_file {nolef.txt}  "*" 2 The following commands tags the VDD and TVDD pins as the ESD pins:  set_advanced_pg_library_mode -esd_cells {IOESD} -esd_pin_list {VDD TVDD}  "*" 2 The following command specifies the ESD device dev1 and the xDSPF file cell1.xdspf to be used for ESD tagging:  set_advanced_pg_library_mode -import_xdspf_list_file cell1.xdspf -esd_cells {IOESD} -esd_device_list {dev1}  "*" 2 The following example specifies that FOREIGN statements are to be assumed for cells with no FOREIGN statements and that the FOREIGN cells should be placed at the inverse of the origin:    -assume_foreigns true  -assume_foreigns_mode 1  "*" 2 The following example specifies that FOREIGN statements are to be assumed for cells with no FOREIGN statements, and the FOREIGN cells should be placed at (0,0):   -assume_foreigns true  -assume_foreigns_mode 0
.RE 
.SH Source Location File Format
.P The voltage source location file format is as follows:
.P <MIN_SPACING spacing_value>  <DENSITY density_value>  CELL cell_name  <[PORT|DETAILED] {>  NET net_name  <[PORT|DETAILED] {>  lef_layer_name <PORT|DETAILED> x y [x y]  lef_layer_name <PORT|DETAILED> x y [x y]  <}>  <}>  This source location file syntax includes the following parameters:
.RS  "*" 2 NET net_name   These specifications apply to the voltage source locations that follow until Library Generation encounters a new CELL or NET line. You can specify voltage sources as single points or as rectangles. If you specify them as rectangles, Library Generation generates a grid of voltage sources inside these rectangles.
.RE
.RS  "*" 2 PORT | DETAILED   The source location file can specify voltage sources to be used with port or detailed views.
.RE
.P lef_layer_name <PORT|DETAILED> x y [x y]   Lines beginning with a LEF layer name specify the actual location of the voltage sources.
.P You can specify this location as a single point by providing one set of values for x and y. These x and y coordinates are specified in microns and use the same coordinate system as that used for LEF ports in the LEF file.
.P Alternatively, you can specify the voltage source locations as a rectangle by giving two sets of x and y locations. In this case, Library Generation attempts to generate a 10-by-10 grid of voltage sources inside this area. From a rectangle specification, it does not create voltage sources closer than 1 micron apart, so if the rectangle is less than about 10 microns on a side, it generates fewer voltage sources.
.P In the source location file, the location of the voltage sources is specified by using a LEF layer name and location in LEF coordinate space. However, because of the way LibGen uses this data internally, no LEF geometries are actually required to exist at the location where the voltage sources are to be placed. Library Generation uses this data internally with the layout of the block (that is, the GDS data) during detailed power-grid view generation, so it only requires that there be layout (GDS) geometries at the location of the voltage sources. Similarly, the LEF layer name used in the source location file does not actually have to be included in any of the input LEF files; it must be defined only in the layer map used by Library Generation.
.P This is an example of the contents of the voltage source location file:
.P CELL BUMP  NET vcc  METAL1 11.0 16.0  METAL1 0.0 15.0 22.1 17.5
.P Here is an example file using MIN_SPACING and DENSITY to create a 10 x 10 grid of voltage sources on the VSS net in the detailed view of the NAND1 cell:
.P DENSITY 10  MIN_SPACING 1  CELL BUMP  DETAILED   NET VSS 
.SH Related Information
.RS  "*" 2 set_pg_library_mode  "*" 2 generate_pg_library  "*" 2 "Power-Grid Library Generation" in the Voltus IC Power Integrity Solution User Guide
.RE
.P
