.nf
.P Product Version     22.14    Cadence Design Systems, Inc. 
.fi
.TH trimMetalFillNearNet  22.14 "Fri Oct 06 02:12:27 2023" 
.SH Name \fBtrimMetalFillNearNet\fR \-  Trims any metal fill around critical nets
.SH Syntax \fBtrimMetalFillNearNet\fR   [-help]   [-area {x1 y1 x2 y2}]   [-clock]   [-createFillBlockage <blockage_name>]   [-layer <layer_name_list>]   [-minTrimDensity {<percent1> <layer_list1> [{<percent2> <layer_list2>}]}]   [-minTrimUnionDensityToAboveLayer {<percent1 layer_list1> [{<percent2 layer_list2>}]..}]  [-net {<net_name_list> | <net_object_pointer_list>}]   [-recomputeDensity]   [-remove]   [-slackThreshold <slack_in_ns>]   [-spacing <dist_in_um>]   [-spacingAbove <dist_in_um>]   [-spacingBelow <dist_in_um>]  
.P Trims any metal fill around critical nets. This command enables you to reduce the timing impact on critical nets due to metal fill on the layer above, below and the same layer for the routing of any critical net. Using this command, you can specify the critical net list, desired spacing around critical nets, and metal fill density limit.
.P The intended usage model is to run timing analysis before metal fill, add metal fill, then run timing analysis after metal fill, then trim the metal fill that caused timing to get worse. See the examples below. 
.SH Parameters    "\fB-help \fR" Prints a brief description that includes the type and default information for each trimMetalFillNearNet parameter.  For a detailed description of the command and all its parameters, use man trimMetalFillNearNet.  "\fB-area {x1 y1 x2 y2}\fR" Specifies a set of coordinates within which to trim metal fill. If this parameter is not specified, metal fill is trimmed around critical nets in the entire design area  "\fB-clock\fR" Specifies whether metal fill is to be trimmed around all clock.  "\fB-createFillBlockage <blockage_name>\fR" Creates a fill blockage so that any subsequent fill steps do not refill the trimmed area. If you specify a name, the tool uses that name as the fill blockage name. If you do not specify a name, the tool uses the default name <netName_layerName_*> for the fill blockage.  "\fB-layer <layer_name_list>\fR" Trims metal fill only on the specified layers. If this parameter is not specified, metal fill is trimmed on all layers.  "\fB-net {<net_name_list> | <net_object_pointer_list>}\fR" Specifies a list of critical net names or pointers which are surrounded by metal fill.  "\fB-minTrimDensity {<percent1><layer_list1> [{<percent2><layer_list2>}]}\fR" Trims metal fill only until the specified window density percentage is reached to avoid causing any metal density violations. The window sizes are controlled by setMetalFill. verifyMetalDensity is used to compute the metal-density using the same setMetalFill settings. You can specify different window density percentages for different layers. For example, {{20 1 2} {30 3}} would set the min-density for metal1, metal2 windows to 20%, and for metal3 to 30%.  "\fB-minTrimUnionDensityToAboveLayer {<percent1 layer_list1> [{<percent2 layer_list2>}]..}\fR" Trims metal fill only till meeting the specified percent window density.  Default: 0  "\fB-recomputeDensity\fR" By default, if metal density values are required for -minTrimDensity, and they are available in the database from a previous call to verifyMetalDensity, the existing database values are used.  This option forces a call to verifyMetalDensity to recompute window densities instead of using the stored values.  "\fB-remove\fR" Specifies that the metal fill shapes overlapping the critical-net halo area should be removed entirely instead of being trimmed to the halo edge created with different -spacing* options. This avoids the possibility of smaller metal fill shapes that might be left over after trimming.  "\fB-slackThreshold <slack_in_ns>\fR" Trims metal fill around nets with slack less than the specified value. The value specified should be in nanoseconds.  "\fB-spacing <dist_in_um>\fR" Trims fill on the same layer by specified distance around critical net routes. The distance specified should be in micrometers (um). The default is 0 so no trimming is done.  "\fB-spacingAbove <dist_in_um>\fR" Trims fill on the layer above the current layer by specified distance around critical net routes. The distance specified should be in micrometers (um). The default is 0 so no trimming is done.  "\fB-spacingBelow <dist_in_um>\fR" Trims fill on the layer below the current layer by specified distance around critical net routes. The distance specified should be in micrometers (um). The default is 0 so no trimming is done. 
.SH Example
.RS  "*" 2 The most common usage model is to run timing analysis before metal fill, add metal fill, run timing analysis after metal fill, and then trim the metal fill that causes timing to get worse. Suppose the WNS before metal fill was -0.2ns, and after metal fill the WNS is -0.4ns.  This means the metal fill caused a 0.2ns degradation.  One strategy is to trim any net that got pushed about beyond the original WNS of -0.2ns aggressively with a larger trim spacing value because the extra WNS is directly caused by metal-fill, and then trim any negative slack nets above 0.0ns to improve timing margins. The spacing values depend on the technology node and timing criticality.  A reasonable starting point would be to choose between 5x to 10x min-spacing for the aggressive trim value.  So you might use these commands:  #Trim by 1.0um the layer above/below/same for any net with worse slack than the pre-metal fill WNS of -0.2  #Do not trim if the metal density will fall below 20% for metal1, metal2, or 30% for metal3 using the setMetalFill window settings   trimMetalFillNearNet -slackThreshold -0.2 -spacing 1.0 -spacingAbove 1.0 -spacingBelow 1.0 -minTrimDensity {{20 1 2} {30 3}}  #Trim less aggressively using 0.4um spacing for any net with WNS above 0.0 to improve timing margins  trimMetalFillNearNet -slackThreshold 0.0 -spacing 0.4 -spacingAbove 0.4 -spacingBelow 0.4 -minTrimDensity {{20 1 2} {30 3}}   "*" 2 In the following example, there is a critical net overlap with the metal fill on the upper layer, metal5:  (<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.)  The following command trims metal fill on the upper layer, metal5, and creates a fill blockage around the clk net.  trimMetalFillNearNet -net clk -layer {metal4 metal5} -createFillBlockage -spacingAbove 0.2  (<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.) 
.RE 
.SH Related Information
.RS  "*" 2 The following sections in the Optimizing Metal Density chapter of User Guide.
.RE
.RS
.RS  "*" 2 Overview
.RE 
.RE
.RS
.RS  "*" 2 Trimming Metal Fill
.RE 
.RE
.RS
.RS  "*" 2 Trimming Metal Fill for Timing Closure
.RE 
.RE
.P
