.nf
.P Product Version     22.14    Cadence Design Systems, Inc. 
.fi
.TH setMetalFill  22.14 "Fri Oct 06 02:12:27 2023" 
.SH Name \fBsetMetalFill\fR \-  Specifies values for parameters that the addMetalFill, trimMetalFill, and verifyMetalDensity commands use for metal fill size, spacing, verification, and metal density
.SH Syntax \fBsetMetalFill\fR  [-help]   [-layer {<layerNumber}> | {<list_of_layer_numbers>}]  [-activeSpacing <spacing>]   [-opcActiveSpacing <spacing>]   [-borderSpacing <spacing>]   [-decrement <value>]   [-diagOffset <x y>]   [-externalDensity <percent>]   [-gapSpacing <spacing>]   [-honorLefValue]   [-iterationName <name>]   [-maxDensity <percent>]   [-maxLength <length>]  [-maxUnionDensityToAboveLayer <value>]  [-maxWidth <width>]   [-minDensity <percent>]   [-minLength <length>]   [-minUnionDensityToAboveLayer <value>]  [-minWidth <width>]   [-opc | -regular]   [-preferredDensity <percent>]   [-windowSize <xSize> <ySize>]   [-windowStep <xStep> <yStep>]  
.P Specifies values for parameters that the addMetalFill, trimMetalFill, and verifyMetalDensity commands use for metal fill size, spacing, verification, and metal density. You can also specify some of these parameters in the Layer (Routing) section of the LEF file - they are identified in the "Parameters" section below.
.P If you want your metal fill settings to be saved in the
.init file when saving the design, you must set the fill_setting_save global to 1 before saving the design. You can easily reload your settings by restoring the saved design
.P Note: Check the chip manufacturer's DRC manual specifications for metal fill (sometimes called dummy fill) for the correct values if they are not specified in the LEF file.
.RS  "*" 2 For more information on LEF, see the "LEF Syntax" chapter in the LEF/DEF Language Reference.
.RE
.RS  "*" 2 For more information on the metal fill commands, see addMetalFill, trimMetalFill, and verifyMetalDensity.
.RE 
.SH Parameters    "\fB-help\fR" Outputs a brief description that includes the type and default information for each setMetalFill parameter.  For a detailed description of the command and all its parameters, use the man command: man setMetalFill.  "\fB-activeSpacing <spacing>\fR" Specifies the minimum distance in microns between a metal fill shape and any other type of object in the design. For example, setMetalFill -activeSpacing 0.6.  Note: The setMetalFill -activeSpacing settings are used for creating regular FILLWIRE shapes. For FILLWIREOPC shapes, design rules are used.  LEF equivalent: FILLACTIVESPACING  Default: FILLACTIVESPACING in the LEF file; if not specified, 0.6 for thin layers (less than 0.24), 0.8 for thick layers  "\fB-borderSpacing <spacing>\fR" Specifies the space in microns along the design border that needs to be kept free of metal fill. This parameter is useful if you want open space next to the place and route border.  If you have set border spacing, the addMetalFill and verifyMetalDensity commands consider the density in the specified border space area as 0.  (<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.)   "\fB-decrement <value>\fR" Specifies the number of microns the software decreases the size of each successively smaller piece of metal fill or via fill until it reaches the size specified by the -minWidth parameter.  The software uses the maximum fill size specified unless it is impossible to fit a piece of fill into a particular area. The software then attempts to use successively smaller pieces of fill until the minimum length value is reached.  This parameter allows you to control how many different sizes of metal fill or via fill can appear within the design.  For example, if the value of -maxWidth is 8, the value of -minWidth is 4, and the value of -decrement is 2, the software can add fill shapes with widths of 8, 6, and 4 microns.  The software tries to add fill shapes with the width specified by -maxWidth. If a shape of that width does not fit in the available space without creating a violation, the software decreases the width by the amount specified by the -decrement parameter. It continues to decrease the width until it reaches the width specified by the -minWidth parameter.  To increase flexibility in adding metal or via fill, decrease the value of this parameter. For example, if the value of -decrement is 1, metal fill with widths of 8, 7, 6, 5, and 4 microns can be added.  Default: WIDTH value specified in the Layer (Routing) statement of the LEF file  "\fB-diagOffset <x y>\fR" Specifies the offset for staggering metal fill. To enable this parameter, addMetalFill -stagger diag must be specified.  x    Specifies the horizontal offset.  y    Specifies the vertical offset.  setMetalFill diagOffset x y(<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.)    "\fB-externalDensity <percent>\fR" Specifies a percentage value for the external metal density for a layer when addMetalFill windows lie partially outside of the die area. For each layer, a different external density value can be specified.  Metal fill uses the external density value in the estimation of layer density outside of the blocks being developed.  "\fB-gapSpacing <spacing>\fR" Specifies the minimum distance in microns between one metal fill shape and another metal fill shape. For example, setMetalFill -gapSpacing 0.4.  Default: 0.4 for thin layers (less than 0.24 width/minWidth),  0.8 for thick layers  "\fB-honorLefValue\fR" Specifies that the LEF values MINIMUMDENSITY, MAXIMUMDENSITY, DENSITYCHECKWINDOW, and DENSITYCHECKSTEP should be used to overwrite the minDensity, maxDensity, windowSize, and windowStep parameters of setMetalFill if the values specified for these parameters are not valid. If the -layer option is used with setMetalFill, only the specified layers are changed to the LEF values.  Note: If one of the keywords-MINIMUMDENSITY, MAXIMUMDENSITY, DENSITYCHECKWINDOW, or DENSITYCHECKSTEP-is not defined in the LEF, an error message like the following is displayed:  ERROR: DENSITYCHECKWINDOW of MetalX is not defined in the LEF.  "\fB-iterationName <name>\fR" Specifies a name for a set of values for setMetalFill parameters that the software stores and uses during a later addMetalFill run. Use addMetalFill -iterationNameList to add the metal fill using the stored set of parameters.  The window size and step must be the same for all iterations of a specific layer. For example, the following specifications are not allowed because the values are not consistent:  setMetalFill -iterationName step1 -layer 1 \\    -minDensity 20 -windowSize 100 100 -windowStep 50 50  setMetalFill -iterationName step1 -layer 1 \\    -minDensity 25 -windowSize 50 50 -windowStep 25 25 (<Image> To view the image, refer to the Innovus Text Command Reference - Release 22.1 manual.) Specifying setMetalFill -iterationName  default is the same as running  setMetalFill without specifying the  -iterationName parameter.  setMetalFill -iterationName default is expected before verifyMetalDenstiy. verifyMetalDenstiy honors only default iterationName. If default iterationName is not set, default value will be used in verifyMetalDenstiy.  Default: "default"  "\fB-layer {<layerNumber> | {<list_of_layer_numbers>}\fR" Specifies the layers to which the parameters of the setMetalFill command apply. If you specify more than one layer, separate each layer with a space and enclose the list in braces or double quotation marks.  To specify metal layers Metal1, Metal2, and Metal3, type one of the following commands:  setMetalFill -layer "METAL1 METAL2 METAL3"  setMetalFill -layer {METAL1 METAL2 METAL3}  "\fB-maxDensity <percent>\fR" Specifies a percentage value for the maximum metal density allowed.  LEF equivalent: MAXIMUMDENSITY  Default: MAXIMUMDENSITY. If this value is not defined, the default is 80.  Note: This parameter only overrides a value in the LEF file if it is more restrictive than the LEF value. For example, if the value specified in the LEF file is 80, and you specify -maxDensity 70, metal fill uses 70 percent as the maximum density.  "\fB-maxLength <length>\fR" Specifies the maximum length of the metal fill shapes, in microns. Metal fill stops at the chip boundary if the specified maximum length would cause it to extend outside the boundary.  Default: 10.0  "\fB-maxUnionDensityToAboveLayer <value>\fR" Specifies the maximum allowed sum union density of the current layer and its top layer window. This avoids the union density violations found while verifying density results of trim metal fill flow using PVS or Pegasus.  Default: 0  "\fB-maxWidth <width>\fR" Specifies the maximum width of metal fill shapes, in microns. Metal fill stops at the chip boundary if the specified maximum length would cause it to extend outside the boundary.  Default: Maximum routing width defined in the LEF file; if not specified, 2.0  LEF equivalent: MAXWIDTH  Note: This parameter only overrides a value in the LEF file if it is more restrictive than the LEF value.  "\fB-minDensity <percent>\fR" Specifies a percentage value for the minimum metal density allowed in the design.  LEF equivalent: MINIMUMDENSITY  Default: MINIMUMDENSITY. If this value is not defined, the default is 20.  Note: This parameter only overrides a value in the LEF file if it is more restrictive than the LEF value. For example, if the value specified in the LEF file is 20, and you specify -minDensity 25, metal fill uses 25 percent as the minimum density.  "\fB-minLength <length>\fR" Specifies the minimum length of metal fill shapes, in microns.   Default: 1.0  "\fB-minUnionDensityToAboveLayer <value>\fR" Specifies the minimum allowed sum union density of the current layer and its top layer window. This avoids the union density violations found while verifying density results of trim metal fill flow using PVS or Pegasus.  Default: 200  "\fB-minWidth <width>\fR" Specifies the minimum width of metal fill shapes, in microns.  Default: 0.4 for thin layers (less than 0.24) and 0.8 for thick layers.  Note: This parameter only overrides a value in the LEF file if it is more restrictive than the LEF value.  "\fB-opc \fR" Specifies metal fill that will go through the optical proximity correction (OPC) process. This fill can be smaller than non-OPC metal fill and is governed by the same design rules as regular wires, instead of the rules that govern non-OPC metal fill.
.RS  "*" 2 OPC metal fill that is floating (unconnected) is included in the Fills statement of DEF 5.7.
.RE
.RS  "*" 2 OPC metal fill that is tied off (connected) is included in the Special Wiring statement of DEF 5.7.
.RE
.RS  "*" 2 The GDSII Stream/OASIS map file identifies the following object names for OPC and non-OPC metal fill: FILL, FILLOPC, VIA, VIAFILL.
.RE   Note: -opc and -regular cannot be specified at the same time.  "\fB-opcActiveSpacing <spacing>\fR" Specifies the minimum distance in microns between the OPC metal fill shapes (FILLWIREOPC) and main patterns.  Note: If this parameter is not specified, the minimum DRC spacing is used by default.  "\fB-preferredDensity <percent>\fR" Specifies a percentage value for the preferred metal density for the layer. When the metal density in a window is less than the minimum metal fill density value, adds metal fill to achieve a density slightly above the preferred density if possible.  In addition, metal fill uses the preferred density value in the estimation of MACRO density for layers that have most of the MACRO covered by OBS shapes and for DEF BLOCKAGES without both + FILLS and + PUSHDOWN.  Metal fill uses the following scheme for the treatment of DEF blockages with + FILLS or + PUSHDOWN:
.RS  "*" 2 DEF BLOCKAGES with + PUSHDOWN = 100 percent density (the same as real metal segments)
.RE
.RS  "*" 2 DEF BLOCKAGES with + FILLS = 0 percent density
.RE   Cadence recommends modelling LEF MACROs by using the DENSITY statement, with density windows that are smaller than the metal fill windows. For example, if the metal fill windows are 100 x 100, use 25 x 25 or smaller values for the density rectangles.  For more information, see the "Adding Metal Fill Over Macros" section in the Optimizing Metal Density chapter of User Guide.  Default: 35  "\fB-regular\fR" Specifies that regular metal fill shape is to be used. Use this option to switch to inserting regular metal fill without restarting the session after you have been adding OPC metal fill.  setMetalfill -opc  addMetalFill  #Inserts opc metal fill   setMetalfill -regular  addMetalFill  #Inserts regular metal fill  "\fB-windowSize <xSize> <ySize>\fR" Specifies the x and y dimensions in microns of the area setMetalFill uses to examine the metal density. The software assesses the metal density in each window, moving the window iteratively through the design. For example, setMetalFill -windowSize 100 100.  LEF equivalent: DENSITYCHECKWINDOW  Default: DENSITYCHECKWINDOW. If this value is not defined, the default is 100 microns in each dimension.  "\fB-windowStep <xStep> <yStep>\fR" Specifies the x and y step distance in microns the window moves for each iteration of metal density analysis. For example, setMetalFill -windowStep 50 50.  LEF equivalent: DENSITYCHECKSTEP  Default: DENSITYCHECKSTEP. If this value is not defined, the default is 50 microns in each dimension. 
.SH Examples
.RS  "*" 2 The following command sets window size and step settings for layer METAL1:   setMetalFill -layer METAL1 -windowSize 200 200 -windowStep 100 100  These parameters are applied when you use the addMetalFill command.
.RE
.RS  "*" 2 The following command specifies an iteration step1 with various settings for inserting metal fill:   setMetalFill -layer {METAL1 METAL2 METAL3 METAL4 METAL5 METAL6 METAL7 METAL8} -iterationName step1 /               -gapSpacing 0.140 -minWidth 1 -decrement 0.050 /               -minLength 2 -maxWidth 5 -maxLength 20 -activeSpacing 0.8 /               -windowSize 50 50 -windowStep 25 25 -minDensity 15 /               -maxDensity 80 -preferredDensity 35 -diagOffset 1 1
.RE 
.SH Related Information
.RS  "*" 2 fill_setting_save  "*" 2 The following sections in the Optimizing Metal Density chapter of User Guide.
.RE
.RS  "*" 2
.RS  "*" 2 "Overview"  "*" 2 "Connected and Floating Metal Fill"  "*" 2 "Specifying Metal Fill Parameters"  "*" 2 "Timing-Aware Examples"  "*" 2 "Specifying the Active Spacing Value"  "*" 2 "Adding Via Fill"
.RE 
.RE
.RS  "*" 2 The following section in the Importing and Exporting Designs chapter of User Guide.
.RE
.RS
.RS  "*" 2 "GDSII Stream or OASIS Map File Format"
.RE 
.RE
.RS  "*" 2 LEF Syntax chapter in the LEF/DEF Language Reference
.RE
.RS
.RS  "*" 2 "Macro Density"
.RE 
.RE
.RS  "*" 2 DEF Syntax chapter in the LEF/DEF Language Reference
.RE
.RS
.RS  "*" 2 "Blockages"
.RE 
.RE
.P
